CREATE TABLE Student (
    Roll NUMBER PRIMARY KEY,
    Name VARCHAR2(50),
    Attendance NUMBER(5,2),
    Status VARCHAR2(20)
);

INSERT INTO Student VALUES (1, 'Amit Sharma', 82, NULL);
INSERT INTO Student VALUES (2, 'Priya Verma', 68, NULL);
INSERT INTO Student VALUES (3, 'Rohit Patel', 90, NULL);
INSERT INTO Student VALUES (4, 'Sneha Iyer', 74, NULL);
INSERT INTO Student VALUES (5, 'Karan Mehta', 55, NULL);
INSERT INTO Student VALUES (6, 'Neha Gupta', 79, NULL);
INSERT INTO Student VALUES (7, 'Vikram Reddy', 92, NULL);
INSERT INTO Student VALUES (8, 'Ananya Das', 70, NULL);

COMMIT;

SET SERVEROUTPUT ON;

DECLARE
    v_roll Student.Roll%TYPE;
    v_attendance Student.Attendance%TYPE;
    v_count NUMBER;
BEGIN
    v_roll := &Enter_Roll_No;

    SELECT COUNT(*) INTO v_count
    FROM Student
    WHERE Roll = v_roll;

    IF v_count = 0 THEN
        DBMS_OUTPUT.PUT_LINE('Error: Roll number does not exist.');
    ELSE
        SELECT Attendance INTO v_attendance
        FROM Student
        WHERE Roll = v_roll;

        IF v_attendance < 75 THEN
            UPDATE Student
            SET Status = 'Detained'
            WHERE Roll = v_roll;
            DBMS_OUTPUT.PUT_LINE('Term not granted');
        ELSE
            UPDATE Student
            SET Status = 'Not Detained'
            WHERE Roll = v_roll;
            DBMS_OUTPUT.PUT_LINE('Term granted');
        END IF;

        COMMIT;
    END IF;

EXCEPTION
    WHEN NO_DATA_FOUND THEN
        DBMS_OUTPUT.PUT_LINE('Error: No student found with this Roll number.');
    WHEN TOO_MANY_ROWS THEN
        DBMS_OUTPUT.PUT_LINE('Error: Multiple students found with this Roll number.');
    WHEN OTHERS THEN
        DBMS_OUTPUT.PUT_LINE('Error: ' || SQLERRM);
        ROLLBACK;
END;
/

SELECT * FROM Student ORDER BY Roll;