CREATE TABLE CUSTOMERS (
    CUST_ID NUMBER PRIMARY KEY,
    CUST_NAME VARCHAR2(100),
    SALARY NUMBER(10,2)
);
INSERT INTO CUSTOMERS VALUES (1, 'Rahul Sharma', 30000);
INSERT INTO CUSTOMERS VALUES (2, 'Priya Mehta', 40000);
COMMIT;

CREATE OR REPLACE TRIGGER trg_Customer_SalaryDiff
AFTER INSERT OR UPDATE OR DELETE
ON CUSTOMERS
FOR EACH ROW
BEGIN
    IF INSERTING THEN
        DBMS_OUTPUT.PUT_LINE('New Record Inserted: Salary = ' || :NEW.SALARY);
    ELSIF UPDATING THEN
        DBMS_OUTPUT.PUT_LINE('Old Salary: ' || :OLD.SALARY);
        DBMS_OUTPUT.PUT_LINE('New Salary: ' || :NEW.SALARY);
        DBMS_OUTPUT.PUT_LINE('Salary Difference: ' || (:NEW.SALARY - :OLD.SALARY));
    ELSIF DELETING THEN
        DBMS_OUTPUT.PUT_LINE('Record Deleted. Old Salary was: ' || :OLD.SALARY);
    END IF;
END;
/

SET SERVEROUTPUT ON;

-- Test Insert
INSERT INTO CUSTOMERS VALUES (3, 'Amit Patil', 35000);

-- Test Update
UPDATE CUSTOMERS SET SALARY = 45000 WHERE CUST_ID = 2;

-- Test Delete
DELETE FROM CUSTOMERS WHERE CUST_ID = 1;

COMMIT;
